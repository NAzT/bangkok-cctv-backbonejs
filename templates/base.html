<!doctype html>
<html class="no-js" lang="en">
<head>
  <meta charset="utf-8">

  <title>{% block title %}yoursite.com{% endblock %}</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="shortcut icon" href="/static/favicon.ico">

  <!-- HTML5 shim, for IE 6-8 support of HTML elements -->
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link rel="stylesheet" href="/static/css/bootstrap.css">
  <link rel="stylesheet" href="/static/css/bootstrap-responsive.css">
  <link rel="stylesheet/less" href="/static/css/main.less">
  {% block css %}{% endblock %}

  <!-- Rather use `less.js` to dynamically compile your `stylesheet/less` files? -->
  <script>window.less || document.write('<script src="/static/js/less.js">\x3C/script>')</script>

  <script>window.jQuery || document.write('<script src="/static/js/jquery.js">\x3C/script>')</script>

  <script>window._|| document.write('<script src="/static/js/underscore.js">\x3C/script>')</script>

  <script>window.Backbone || document.write('<script src="/static/js/backbone.js">\x3C/script>')</script>
  <script>window.Backbone || document.write('<script src="/static/js/backbone.js">\x3C/script>')</script>


  <!-- Need Modernizr? Uncomment the following script. -->
  <!-- <script src="/static/js/modernizr.js"></script> -->

</head>

<body>

  <header>
    {% include "header.html" %}
  </header>

  <div id="main" role="main">
    {% block main %}{% endblock %}
  </div>

  <footer>
    {% include "footer.html" %}
  </footer>


  <!-- JavaScript at the bottom for fast page loading -->



  <!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if necessary -->

  <!-- Additional JavaScript libraries and plugins... -->
  {% block js %}

  {% endblock %}

  <script type="text/javascript">
  jQuery(document).ready(function($){
      window.CctvItem = Backbone.Model.extend({urlRoot: '/cctvs'});
{#      window.cctvItem = new CctvItem({#}
{#          "name": "Viriyah Ratchada-Huaykwang",#}
{#          "name_th": "วิริยะประกันภัย รัชดา-ห้วยขวาง (Viriyah Ratchada-Huaykwang)",#}
{#          "point": {#}
{#              "lat": 13.76743,#}
{#              "lng": 100.57068#}
{#          },#}
{#          "available": "t",#}
{#          "lastupdate": "2013-01-12 15:00:17",#}
{#          "url": "http://api.traffy.in.th/apis/apitraffy.php?api=getcctvimg&id=255&num=0&appid=00000152&key=VZcpJVMqW8",#}
{#          "src": "Viriyah insurance",#}
{#          "desc": "",#}
{#          "list": "http://api.traffy.in.th/apis/apitraffy.php?api=getcctvimg&id=255&num=0&appid=00000152&key=VZcpJVMqW8,http://api.traffy.in.th/apis/apitraffy.php?api=getcctvimg&id=255&num=1&appid=00000152&key=VZcpJVMqW8,http://api.traffy.in.th/apis/apitraffy.php?api=getcctvimg&id=255&num=2&appid=00000152&key=VZcpJVMqW8,http://api.traffy.in.th/apis/apitraffy.php?api=getcctvimg&id=255&num=3&appid=00000152&key=VZcpJVMqW8,http://api.traffy.in.th/apis/apitraffy.php?api=getcctvimg&id=255&num=4&appid=00000152&key=VZcpJVMqW8"#}
{#      })#}

      window.CctvView = Backbone.View.extend({
        render: function() {
          var html  = "<h3>" + this.model.get('src') + "</h3>";
          $(this.el).html(html)
        }
      })

      window.CctvList = Backbone.Collection.extend({
          url: '/cctvs',
          model: CctvItem
      })

      window.cctvView = new CctvView({model: cctvItem })
      window.cctvList = new CctvList()
  })

  </script>

  <!-- mathiasbynens.be/notes/async-analytics-snippet Change UA-XXXXX-X to be your site's ID -->

  <!-- Prompt IE < 8 users to install Chrome Frame.  -->
  <!--[if lt IE 8 ]>
    <script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script>
    <script>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})</script>
  <![endif]-->

</body>
</html>
